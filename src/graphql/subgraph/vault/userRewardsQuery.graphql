query UserRewards(
  $user: Bytes!
  $dateTo: Timestamp!
  $dateFrom: Timestamp!
  $vaultAddress: String!
  $includeExchangeRate: Boolean!
) {
  exchangeRates: exchangeRateStats_collection (  
    interval: day,  
    where: {  
      timestamp_gte: $dateFrom,  
      timestamp_lte: $dateTo  
    }  
  ) @include(if: $includeExchangeRate) {  
    timestamp  
    assetsUsdRate  
    usdToEurRate  
    usdToGbpRate  
  }  
  allocator: allocatorStats_collection(
    interval: day
    where: {
      timestamp_gte: $dateFrom,
      timestamp_lte: $dateTo,
      allocator_: {
        address: $user,
        vault: $vaultAddress
      }
    }
  ) {
    timestamp
    earnedAssets
  }
  exitRequest: exitRequestStats_collection(
    interval: day
    where: {
      timestamp_gte: $dateFrom,
      timestamp_lte: $dateTo,
      exitRequest_: {
        receiver: $user,
        vault: $vaultAddress
      }
    }
  ) {
    timestamp
    earnedAssets
  }
  rewardSplitter: rewardSplitterShareHolderStats_collection(
    interval: day
    where: {
      timestamp_gte: $dateFrom,
      timestamp_lte: $dateTo,
      rewardSpliterShareHolder_: {
        address: $user,
        vault: $vaultAddress
      }
    }
  ) {
    timestamp
    earnedAssets
  }
  boost: leverageStrategyPositionStats_collection(
    interval: day
    where: {
      timestamp_gte: $dateFrom,
      timestamp_lte: $dateTo,
      position_: {
        user: $user,
        vault: $vaultAddress
      }
    }
  ) {
    timestamp
    earnedAssets: earnedBoostAssets
  }
}
